<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>模擬テスト（JFT)</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', 'Roboto', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #F5F7FA;
            font-size: 16px;
            line-height: 1.6;
            color: #333;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 15px;
            background-color: #FFFFFF;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        .header h1 {
            font-size: 1.8em;
            margin: 0;
            color: #4A90E2;
        }
        .header h2 {
            font-size: 1.4em;
            margin: 10px 0;
            color: #333;
        }
        .student-info {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
            border: 1px solid #E0E4EA;
            padding: 15px;
            border-radius: 10px;
            background-color: #FFFFFF;
        }
        .student-info div {
            margin: 10px 0;
        }
        .student-info label {
            font-weight: 500;
            color: #4A90E2;
            display: block;
        }
        .student-info input {
            width: 100%;
            padding: 8px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            font-family: 'Roboto', sans-serif;
            font-size: 16px;
            transition: border-color 0.2s;
            box-sizing: border-box;
        }
        .student-info input:focus {
            border-color: #4A90E2;
            outline: none;
        }
        .question-section {
            margin-bottom: 30px;
            background-color: #FFFFFF;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            display: none;
        }
        .question {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #E0E4EA;
        }
        .options {
            display: flex;
            flex-direction: column;
        }
        .option {
            margin: 8px 0;
            display: flex;
            align-items: center;
        }
        .option input {
            margin-right: 12px;
            accent-color: #4A90E2;
        }
        .option label {
            font-size: 1em;
            color: #333;
        }
        .example {
            background-color: #F9FAFB;
            padding: 15px;
            border-left: 4px solid #4A90E2;
            margin-bottom: 20px;
            border-radius: 6px;
        }
        h2 {
            background-color: #4A90E2;
            color: #FFFFFF;
            padding: 12px 15px;
            border-radius: 8px;
            font-size: 1.3em;
            margin-top: 0;
        }
        button {
    background-color: #4A90E2;
    color: #FFFFFF;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 20px;
    font-size: 1em;
    font-family: 'Roboto', sans-serif;
    transition: background-color 0.2s, transform 0.1s;
    margin-right: 10px;
}
button.reset {
    background-color: #EF4444;
}
button.reset:hover {
    background-color: #DC2626;
}
        }
        button.reset:hover {
            background-color: #DC2626;
        }
        .vietnamese {
            font-family: 'Roboto', sans-serif;
            font-style: italic;
            color: #6B7280;
            margin-bottom: 15px;
            font-size: 0.95em;
        }
        .result-section {
            margin-top: 30px;
            padding: 20px;
            background-color: #FFFFFF;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            display: none;
        }
        .error-message {
            color: #EF4444;
            margin-top: 15px;
            font-size: 0.95em;
        }
        .student-details {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #F9FAFB;
            border-radius: 8px;
        }
        .student-details p {
            margin: 8px 0;
            font-size: 1em;
            color: #333;
        }
        .result-table {
            width: 100%;
            min-width: 800px;
            border-collapse: collapse;
            margin-top: 15px;
        }
        .result-table th, .result-table td {
            border: 1px solid #E0E4EA;
            padding: 10px;
            text-align: center;
            font-size: 0.9em;
            white-space: nowrap;
        }
        .result-table th {
            background-color: #4A90E2;
            color: #FFFFFF;
            font-weight: 500;
        }
        .result-table tr:nth-child(even) {
            background-color: #F9FAFB;
        }
        .result-table tr.total {
            font-weight: bold;
            background-color: #E5E7EB;
        }
        .result-section::-webkit-scrollbar {
            height: 8px;
        }
        .result-section::-webkit-scrollbar-thumb {
            background-color: #4A90E2;
            border-radius: 4px;
        }
        .result-section::-webkit-scrollbar-track {
            background-color: #F5F7FA;
        }
        .image-placeholder {
            width: 150px;
            height: 120px;
            border: 1px dashed #D1D5DB;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px 0;
            background-color: #F9FAFB;
            font-size: 0.9em;
            overflow: hidden;
        }
        .image-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px 0;
            border-top: 1px solid #E0E4EA;
            color: #6B7280;
            font-size: 0.9em;
            font-family: 'Roboto', sans-serif;
        }
        .correct-answer {
            color: #4A90E2;
        }
        .wrong-answer {
            color: #EF4444;
        }
        .answer-feedback {
            margin-top: 8px;
            font-size: 0.9em;
            color: #4A90E2;
        }
        .answer-feedback.wrong {
            color: #EF4444;
        }
        .timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #4A90E2;
            color: #FFFFFF;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1.2em;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
        .timer.warning {
            background-color: #EF4444;
        }
        .password-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        .password-box {
            background-color: #FFFFFF;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        .password-box input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            font-family: 'Roboto', sans-serif;
            font-size: 16px;
        }
        .password-box button {
            margin: 10px 5px;
        }
        .password-error {
            color: #EF4444;
            font-size: 0.9em;
            margin-top: 10px;
        }
        .rank-a {
            color: #4A90E2;
            font-weight: 500;
        }
        .rank-f {
            color: #EF4444;
            font-weight: 500;
        }
        .text-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            font-family: 'Roboto', sans-serif;
            font-size: 16px;
            margin-top: 10px;
            box-sizing: border-box;
        }
        .text-input:focus {
            border-color: #4A90E2;
            outline: none;
        }
        @media (max-width: 600px) {
            .timer {
                top: 10px;
                right: 10px;
                font-size: 1em;
                padding: 8px 16px;
            }
            .password-box {
                width: 80%;
            }
            .result-section {
                padding: 10px;
            }
            .result-table th, .result-table td {
                font-size: 0.8em;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>模擬テスト（JFT)</h1>
        <h2>文字と語彙・会話・表現・読解・聴解</h2>
        <p>時間：60 分</p>
    </div>

    <div class="student-info">
        <div>
            <label for="name">名前（なまえ）:</label>
            <input type="text" id="name" name="name">
        </div>
        <div>
            <label for="class">クラス:</label>
            <input type="text" id="class" name="class">
        </div>
        <div>
            <label for="date">日付:</label>
            <input type="date" id="date" name="date">
        </div>
    </div>

    <button id="start-test" type="button">Bắt đầu làm bài</button>
    <button id="history-test" type="button" onclick="window.showPasswordModal()">Lịch sử kiểm tra</button>
    <div id="message-info" class="error-message"></div>

    <div id="timer" class="timer" style="display: none;">Thời gian còn lại: 60:00</div>

    <!-- 問題 I -->
    <div class="question-section">
        <h1>文字と語彙</h1>
        <h2>問題Ⅰ．絵を見て語の意味を一つ選んでください。</h2>
        <div class="vietnamese">Hãy nhìn tranh và chọn từ đúng</div>
        <div class="question">
            <p>問１</p>
            <div class="image-placeholder">
                <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgkN2OGc5Co8KfTqhQ9mdo_aGhMr3rmu43zGNfUdsdMdleN9JNMULbIUEX-1CaoQvYFb1Hpf3ffz4yLlOC5tsRhtUfI1orOdd3c37VhVcYRyNbrYHXNdSXHJveSxpQL1o98ND9OwwY6ksnK/s800/face_smile_man4.png" alt="Hình ảnh vấn đề I câu 1" id="image-q1">
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q1-1" name="q1">
                    <label for="q1-1">なきます</label>
                </div>
                <div class="option">
                    <input type="radio" id="q1-2" name="q1">
                    <label for="q1-2">おこります</label>
                </div>
                <div class="option">
                    <input type="radio" id="q1-3" name="q1">
                    <label for="q1-3">わらいます</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-1"></div>
        </div>
        <div class="question">
            <p>問２</p>
            <div class="image-placeholder">
                <img src="https://img.kango-roo.com/upload/images/ki/clean-up-housewark-female-thumbnail.jpg" alt="Hình ảnh vấn đề I câu 2" id="image-q2">
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q2-1" name="q2">
                    <label for="q2-1">そうじします</label>
                </div>
                <div class="option">
                    <input type="radio" id="q2-2" name="q2">
                    <label for="q2-2">せんたくします</label>
                </div>
                <div class="option">
                    <input type="radio" id="q2-3" name="q2">
                    <label for="q2-3">かたづけます</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-2"></div>
        </div>
        <div class="question">
            <p>問３</p>
            <div class="image-placeholder">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjgb6BNCG9GYRbpO9kEpUlRk0yl1d1Ere-ew&s" alt="Hình ảnh vấn đề I câu 3" id="image-q3">
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q3-1" name="q3">
                    <label for="q3-1">はらいます</label>
                </div>
                <div class="option">
                    <input type="radio" id="q3-2" name="q3">
                    <label for="q3-2">きんちょうします</label>
                </div>
                <div class="option">
                    <input type="radio" id="q3-3" name="q3">
                    <label for="q3-3">ちょきんします</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-3"></div>
        </div>
    </div>

    <!-- 問題 II -->
    <div class="question-section">
        <h2>問題II．（　）になにをいれますか。いちばんいいものを一つえらんでください。</h2>
        <div class="vietnamese">Hãy chọn từ phù hợp trong ( )</div>
        <div class="question">
            <p>問１．31日までに電話代を（　）なければなりません。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q4-1" name="q4">
                    <label for="q4-1">よら</label>
                </div>
                <div class="option">
                    <input type="radio" id="q4-2" name="q4">
                    <label for="q4-2">とどけ</label>
                </div>
                <div class="option">
                    <input type="radio" id="q4-3" name="q4">
                    <label for="q4-3">はらわ</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-4"></div>
        </div>
        <div class="question">
            <p>問２．この肉は とても（　）です。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q5-1" name="q5">
                    <label for="q5-1">ふかい</label>
                </div>
                <div class="option">
                    <input type="radio" id="q5-2" name="q5">
                    <label for="q5-2">やわらかい</label>
                </div>
                <div class="option">
                    <input type="radio" id="q5-3" name="q5">
                    <label for="q5-3">ただしい</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-5"></div>
        </div>
        <div class="question">
            <p>問３．りょうりをしているとき、（　）を　きってしまいました。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q6-1" name="q6">
                    <label for="q6-1">ゆび</label>
                </div>
                <div class="option">
                    <input type="radio" id="q6-2" name="q6">
                    <label for="q6-2">ひげ</label>
                </div>
                <div class="option">
                    <input type="radio" id="q6-3" name="q6">
                    <label for="q6-3">かみ</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-6"></div>
        </div>
    </div>

    <!-- 問題 III -->
    <div class="question-section">
        <h2>問題III．____のことばはひらがなでどうかきますか。1、2、3．からいちばんいいものを一つえらんでください。</h2>
        <div class="vietnamese">Từ gạch chân thì viết hiragana như thế nào?</div>
        <div class="question">
            <p>問１．<u>水道</u>がこわれたときは、ここにでんわしてください。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q7-1" name="q7">
                    <label for="q7-1">すいとう</label>
                </div>
                <div class="option">
                    <input type="radio" id="q7-2" name="q7">
                    <label for="q7-2">すいどう</label>
                </div>
                <div class="option">
                    <input type="radio" id="q7-3" name="q7">
                    <label for="q7-3">ずいどう</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-7"></div>
        </div>
        <div class="question">
            <p>問２．そのスカートは、ちょっと<u>短い</u>と思う</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q8-1" name="q8">
                    <label for="q8-1">こい</label>
                </div>
                <div class="option">
                    <input type="radio" id="q8-2" name="q8">
                    <label for="q8-2">ふとい</label>
                </div>
                <div class="option">
                    <input type="radio" id="q8-3" name="q8">
                    <label for="q8-3">みじかい</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-8"></div>
        </div>
        <div class="question">
            <p>問３．夏休みのよていが<u>決まりました</u>か。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q9-1" name="q9">
                    <label for="q9-1">あつまりました</label>
                </div>
                <div class="option">
                    <input type="radio" id="q9-2" name="q9">
                    <label for="q9-2">きまりました</label>
                </div>
                <div class="option">
                    <input type="radio" id="q9-3" name="q9">
                    <label for="q9-3">とまりました</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-9"></div>
        </div>
    </div>

    <!-- 問題 IV -->
    <div class="question-section">
        <h2>問題IV．文をよんで、いちばんいいものを一つえらんでください。</h2>
        <div class="vietnamese">Hãy đọc câu và chọn đáp án đúng nhất （　 ）</div>
        <div class="question">
            <p>問１．パソコンが（　　　）なりました。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q10-1" name="q10">
                    <label for="q10-1">働かない</label>
                </div>
                <div class="option">
                    <input type="radio" id="q10-2" name="q10">
                    <label for="q10-2">働かなく</label>
                </div>
                <div class="option">
                    <input type="radio" id="q10-3" name="q10">
                    <label for="q10-3">通かなく</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-10"></div>
        </div>
        <div class="question">
            <p>問２．あめが（　　　）なったので、買い物に出かけました。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q11-1" name="q11">
                    <label for="q11-1">弱く</label>
                </div>
                <div class="option">
                    <input type="radio" id="q11-2" name="q11">
                    <label for="q11-2">強く</label>
                </div>
                <div class="option">
                    <input type="radio" id="q11-3" name="q11">
                    <label for="q11-3">軽く</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-11"></div>
        </div>
        <div class="question">
            <p>問３．あついので、かみを（　　　）しました。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q12-1" name="q12">
                    <label for="q12-1">涼しく</label>
                </div>
                <div class="option">
                    <input type="radio" id="q12-2" name="q12">
                    <label for="q12-2">低く</label>
                </div>
                <div class="option">
                    <input type="radio" id="q12-3" name="q12">
                    <label for="q12-3">短く</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-12"></div>
        </div>
    </div>

    <!-- 会話・表現（文法） -->
    <div class="question-section">
        <h1>会話・表現</h1>
        <h2>文法：会話を読んで、一番いいものを一つえらんでください。</h2>
        <div class="vietnamese">Đọc hội thoại và chọn đáp án đúng nhất.</div>
        <div class="question">
            <p>問１</p>
            <p>A：お酒は しばらく やめて ください。</p>
            <p>B：えっ、お酒を（　　　）は いけないんですか。</p>
            <p>A：ええ。病気がなおるまでだめですよ。</p>
            <p>B：わかりました。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q13-1" name="q13">
                    <label for="q13-1">飲みて</label>
                </div>
                <div class="option">
                    <input type="radio" id="q13-2" name="q13">
                    <label for="q13-2">飲んて</label>
                </div>
                <div class="option">
                    <input type="radio" id="q13-3" name="q13">
                    <label for="q13-3">飲んで</label>
                </div>
                <div class="option">
                    <input type="radio" id="q13-4" name="q13">
                    <label for="q13-4">飲みで</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-13"></div>
        </div>
        <div class="question">
            <p>問２</p>
            <p>A：えみさん、ちょっと 聞いても いいですか。</p>
            <p>B：なんですか。</p>
            <p>A：会社の せんぱいに お子さんが 生まれたので、お祝いに 何か（　　　）と 思うんですが、いくらぐらいの ものが いいですか？</p>
            <p>B：そうですね。会社の人には だいたい5000円 ぐらいの もの ですね。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q14-1" name="q14">
                    <label for="q14-1">あげない</label>
                </div>
                <div class="option">
                    <input type="radio" id="q14-2" name="q14">
                    <label for="q14-2">あげよう</label>
                </div>
                <div class="option">
                    <input type="radio" id="q14-3" name="q14">
                    <label for="q14-3">あげるため</label>
                </div>
                <div class="option">
                    <input type="radio" id="q14-4" name="q14">
                    <label for="q14-4">あげるつもり</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-14"></div>
        </div>
        <div class="question">
            <p>問３</p>
            <p>A：スカートが きれいですね。</p>
            <p>B：ありがとう ございます。</p>
            <p>A：どこで買ったんですか？</p>
            <p>B：これは（　　　）、姉が くれたんです。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q15-1" name="q15">
                    <label for="q15-1">買わなかったんで</label>
                </div>
                <div class="option">
                    <input type="radio" id="q15-2" name="q15">
                    <label for="q15-2">買わないでいて</label>
                </div>
                <div class="option">
                    <input type="radio" id="q15-3" name="q15">
                    <label for="q15-3">買ったものではなく</label>
                </div>
                <div class="option">
                    <input type="radio" id="q15-4" name="q15">
                    <label for="q15-4">買うものではなく</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-15"></div>
        </div>
        <div class="question">
            <p>問４</p>
            <p>A：趣味は 何ですか。</p>
            <p>B：小説を 読む ことです。</p>
            <p>A：いつも 小説を 読んで いるんですか。</p>
            <p>B：ええ。毎晩 寝る 前に 少しでも 好きな 小説を（　　　）。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q16-1" name="q16">
                    <label for="q16-1">読んでいる ことがあります</label>
                </div>
                <div class="option">
                    <input type="radio" id="q16-2" name="q16">
                    <label for="q16-2">読めるように なっています</label>
                </div>
                <div class="option">
                    <input type="radio" id="q16-3" name="q16">
                    <label for="q16-3">読むように しています</label>
                </div>
                <div class="option">
                    <input type="radio" id="q16-4" name="q16">
                    <label for="q16-4">読んだことが あります</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-16"></div>
        </div>
        <div class="question">
            <p>問５</p>
            <p>A：田中さんに 車を 貸したと 聞きましたよ。</p>
            <p>B：ええ。彼女が 車を（　　　）というので、 貸して あげました。</p>
            <p>A：そうですか。どのくらい 貸しますか？</p>
            <p>B：3日間 貸します。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q17-1" name="q17">
                    <label for="q17-1">貸したい</label>
                </div>
                <div class="option">
                    <input type="radio" id="q17-2" name="q17">
                    <label for="q17-2">借りたい</label>
                </div>
                <div class="option">
                    <input type="radio" id="q17-3" name="q17">
                    <label for="q17-3">あげたい</label>
                </div>
                <div class="option">
                    <input type="radio" id="q17-4" name="q17">
                    <label for="q17-4">もらいたい</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-17"></div>
        </div>
        <div class="question">
            <p>問６</p>
            <p>A：すみません。遅れました。</p>
            <p>B：どうして 遅れたのですか。</p>
            <p>A：いつも 夜 おそくまで べんきょうするから、 朝 眠くて（　　　）。</p>
            <p>B：そうですか。次から 気をつけて くださいね。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q18-1" name="q18">
                    <label for="q18-1">はやく 起こして いたんです</label>
                </div>
                <div class="option">
                    <input type="radio" id="q18-2" name="q18">
                    <label for="q18-2">おそく 起きて いたんです</label>
                </div>
                <div class="option">
                    <input type="radio" id="q18-3" name="q18">
                    <label for="q18-3">どうしても 起こそうとしません</label>
                </div>
                <div class="option">
                    <input type="radio" id="q18-4" name="q18">
                    <label for="q18-4">なかなか 起きられないのです</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-18"></div>
        </div>
    </div>

    <!-- 問題VI（表現） -->
    <div class="question-section">
        <h2>表現：会話を読んで、一番いいものを一つえらんでください。</h2>
        <div class="vietnamese">Đọc hội thoại và chọn đáp án đúng nhất.</div>
        <div class="question">
            <p>問１</p>
            <p>A：お正月の休みは何日でしたか。</p>
            <p>B：今年は３日間（　　　）ありませんでした。</p>
            <p>A：そうですね。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q19-1" name="q19">
                    <label for="q19-1">しか</label>
                </div>
                <div class="option">
                    <input type="radio" id="q19-2" name="q19">
                    <label for="q19-2">だけ</label>
                </div>
                <div class="option">
                    <input type="radio" id="q19-3" name="q19">
                    <label for="q19-3">ぜんぜん</label>
                </div>
                <div class="option">
                    <input type="radio" id="q19-4" name="q19">
                    <label for="q19-4">あまり</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-19"></div>
        </div>
        <div class="question">
            <p>問２</p>
            <p>A：カラオケコンテストが何時に始まるか知っていますか。</p>
            <p>B：いいえ、わかりません。</p>
            <p>A：じゃあ、受付（　　　）聞いてみましょう。</p>
            <p>B：そうですね。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q20-1" name="q20">
                    <label for="q20-1">を</label>
                </div>
                <div class="option">
                    <input type="radio" id="q20-2" name="q20">
                    <label for="q20-2">から</label>
                </div>
                <div class="option">
                    <input type="radio" id="q20-3" name="q20">
                    <label for="q20-3">に</label>
                </div>
                <div class="option">
                    <input type="radio" id="q20-4" name="q20">
                    <label for="q20-4">が</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-20"></div>
        </div>
        <div class="question">
            <p>問３</p>
            <p>A：これから 山本さんと外に食事に行くんですが、いっしょにどうですか。</p>
            <p>B：すみません。今日はおべんとうなので・・・。（　　　）、お願いします。</p>
            <p>A：そうですか。ざんねん。</p>
            <p>B：すみません。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q21-1" name="q21">
                    <label for="q21-1">こちらこそ</label>
                </div>
                <div class="option">
                    <input type="radio" id="q21-2" name="q21">
                    <label for="q21-2">わかりました</label>
                </div>
                <div class="option">
                    <input type="radio" id="q21-3" name="q21">
                    <label for="q21-3">またこんど</label>
                </div>
                <div class="option">
                    <input type="radio" id="q21-4" name="q21">
                    <label for="q21-4">もういちど</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-21"></div>
        </div>
        <div class="question">
            <p>問４</p>
            <p>A：すみません。</p>
            <p>B：はい、なんですか。</p>
            <p>A：その写真を ちょっと（　　　）</p>
            <p>B：いいですよ。どうぞ。</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q22-1" name="q22">
                    <label for="q22-1">見せてくださいませんか</label>
                </div>
                <div class="option">
                    <input type="radio" id="q22-2" name="q22">
                    <label for="q22-2">見てはどうでしょうか</label>
                </div>
                <div class="option">
                    <input type="radio" id="q22-3" name="q22">
                    <label for="q22-3">見させなくてはいけませんか</label>
                </div>
                <div class="option">
                    <input type="radio" id="q22-4" name="q22">
                    <label for="q22-4">見たらいかがです</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-22"></div>
        </div>
        <div class="question">
            <p>問５</p>
            <p>A：はじめまして。</p>
            <p>B：こちらこそ、はじめまして。</p>
            <p>A：あなたはどの国からいらっしゃったんですか。</p>
            <p>B：私は中国から（　　　）</p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q23-1" name="q23">
                    <label for="q23-1">いらっしゃいました</label>
                </div>
                <div class="option">
                    <input type="radio" id="q23-2" name="q23">
                    <label for="q23-2">おいでになりました</label>
                </div>
                <div class="option">
                    <input type="radio" id="q23-3" name="q23">
                    <label for="q23-3">まいりました</label>
                </div>
                <div class="option">
                    <input type="radio" id="q23-4" name="q23">
                    <label for="q23-4">おりました</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-23"></div>
        </div>
        <div class="question">
            <p>問６</p>
            <p>A：この薬を飲まなければならないのですか。</p>
            <p>B：いいえ、（　　　）。 </p>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q24-1" name="q24">
                    <label for="q24-1">飲まなくてはいけません</label>
                </div>
                <div class="option">
                    <input type="radio" id="q24-2" name="q24">
                    <label for="q24-2">飲まないといけません</label>
                </div>
                <div class="option">
                    <input type="radio" id="q24-3" name="q24">
                    <label for="q24-3">飲んだらいいです</label>
                </div>
                <div class="option">
                    <input type="radio" id="q24-4" name="q24">
                    <label for="q24-4">飲まなくてもいいです</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-24"></div>
        </div>
    </div>

    <!-- 読解 -->
    <div class="question-section">
        <h1>読解</h1>
        <div class="vietnamese">Đọc đoạn văn và chọn đáp án đúng nhất.</div>
        <div class="question">
            <p>問１</p>
            <p>こくさいフェスティバルがおこなわれました。　</p>
            <p>２月２４日（日）文化ホール</p>
            <p>午前は世界の歌とおどりのステージや世界のがっきコンサートがおこなわれました。コンサートではおきゃくさんががっきをたいけんするコーナーもありました。外の広場はいろいろな国の食べ物やアクセサリーが売られていました。</p>
            <p>午後のスピーチコンテスㇳでは日本の人は外国語で、外国の人は日本語で 話しました。ゆうしょうしたベトナムのホアさんは、「スピーチは 初めてでしたが、うまく話せました。私は日本でのおもしろいけいけんについて話しました。みんな たくさんわらってくれて、よかったです。それから、私の国のことばでスピーチをしている日本の人がいて、びっくりしました。」と話していました。</p>
            <div class="question">
                <p>1）フェスティバルに 行った 人は 何が できましたか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q25-1-1" name="q25-1">
                        <label for="q25-1-1">歌とおどりを見ること</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q25-1-2" name="q25-1">
                        <label for="q25-1-2">がっきを買うこと</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q25-1-3" name="q25-1">
                        <label for="q25-1-3">アクセサリーを作ること</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-25-1"></div>
            </div>
            <div class="question">
                <p>2）ホアさんは スピーチコンテストに 参加して どう 思いましたか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q25-2-1" name="q25-2">
                        <label for="q25-2-1">スピーチのけいけんがなかったけど、うまくいった</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q25-2-2" name="q25-2">
                        <label for="q25-2-2">自分のスピーチをわらわれて、かなしかった</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q25-2-3" name="q25-2">
                        <label for="q25-2-3">日本人の英語のスピーチが上手で、びっくりした</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-25-2"></div>
            </div>
        </div>
        <div class="question">
            <p>問２</p>
            <p>ロボットそうじき</p>
            <p>私がホームスティをしている家には、私の国では見たことない①そうじきがあります。形は丸くてUFOのようです。それが部屋の中を行ったり来たりして動いているのをはじめてみたとき、私は、何をしているか分かりませんでした。ホームスティのお母さんが、そうじきだと教えてくれました。「ロボットそうじき」といって、人が持たなくてもいいそうじきです。このそうじきは部屋のすみのゴミも集めて吸ってくれます。ソファの下にも入っていって、ていねいにそうじしてくれます。とても便利だと思いました。</p>
            <p>②とてもびっくりしたことがあります。このそうじきが２階のろうかをそうじしていて階段のほうに行ったとき、私は「あーっ！落ちる」と大きい声を出してしまいました。ところが落ちなかったんです。本当におどろきました。ロボットそうじきは階段まで行っても落ちないで、行ったり来たりして、ろうかをきれいにそうじしました。重いそうじきを持ったりんだりしなくてもいいし、きれいにそうじしてくれるので、いつか国の母に、このロボットそうじきをプレゼントしたいと思っています。</p>
            <div class="question">
                <p>1）①どんな「そうじき」ですか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q26-1-1" name="q26-1">
                        <label for="q26-1-1">ロボットの形をしています。</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q26-1-2" name="q26-1">
                        <label for="q26-1-2">階段をきれいにそうじします。</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q26-1-3" name="q26-1">
                        <label for="q26-1-3">人が持たなくてもうごきます。</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-26-1"></div>
            </div>
            <div class="question">
                <p>2）「②とてもびっくりしたこと。」とありますが、何にびっくりしましたか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q26-2-1" name="q26-2">
                        <label for="q26-2-1">ロボットそうじきが、階段から落ちなかったこと</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q26-2-2" name="q26-2">
                        <label for="q26-2-2">ロボットそうじきが、階段をおりたこと</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q26-2-3" name="q26-2">
                        <label for="q26-2-3">ロボットそうじきが、きれいにそうじすること</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-26-2"></div>
            </div>
        </div>
        <div class="question">
            <p>問３</p>
            <p>スポーツクラブで働いています。</p>
            <p>私はスポーツクラブで働いています。朝、会員の人たちが来る前に、するためのきかいが正しくうごくかどうかのチェックをします。チェックしてどこか変なところがあるときは、そのきかいのことをよく知っている人にべてもらいます。それが終わったら、受付に座ります。会員の人たちが来たら、カードにスタンプを押します。私は会員の人たちにできるだけ元気な声で「おはようございます。」「おつかれさまでした。」と、あいさつするようにしています。</p>
            <p>午前中はずっとにいますが、午後からは、運動している会員の人たちにきかいの使い方を説明したり、上手に使えるようにアドバイスをしたり、しています。運動以外のことでいろいろな話をすることもあり、これが一番楽しいです。私の知らないことを教えてもらったり、私の日本語を注意してもらったり、勉強になることも多いです。</p>
            <div class="question">
                <p>1）この人がスポーツクラブでしないことはどれですか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q27-1-1" name="q27-1">
                        <label for="q27-1-1">きかいが正しく動くか調べます。</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q27-1-2" name="q27-1">
                        <label for="q27-1-2">きかいが正しく動かないときに直します。</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q27-1-3" name="q27-1">
                        <label for="q27-1-3">会員に運動のアドバイスをします。</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-27-1"></div>
            </div>
            <div class="question">
                <p>2）この人が一番楽しいと思っていることはどれですか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q27-2-1" name="q27-2">
                        <label for="q27-2-1">会員の人たちに元気な声であいさつすること</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q27-2-2" name="q27-2">
                        <label for="q27-2-2">会員の人たちにアドバイスすること</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q27-2-3" name="q27-2">
                        <label for="q27-2-3">会員の人たちといろいろな話をすること</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-27-2"></div>
            </div>
        </div>
    </div>

    <!-- 読解（情報検索） -->
    <div class="question-section">
        <h2>問題I．次の動物園の「ぞうのショー」のお知らせを見て、質問に答えてください。答えは１．２．３からいちばんいいものを一つ選んでください。</h2>
        <div class="vietnamese">Xem thông báo về “buổi biểu diễn voi” của sở thú dưới đây và trả lời câu hỏi.</div>
        <div class="question">
            <div class="image-placeholder" style="width: 100%; max-width: 800px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-1.png" alt="Thông báo buổi biểu diễn voi" id="image-q28">
            </div>
            <div class="question">
                <p>問１ 写真はいらないけれど、おやつをあげてぞうのせなかにのりたい人はいくらはらいますか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q28-1" name="q28">
                        <label for="q28-1">500</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q28-2" name="q28">
                        <label for="q28-2">2000</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q28-3" name="q28">
                        <label for="q28-3">2500</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-28"></div>
            </div>
            <div class="question">
                <p>問２ 午前中にぞうに乗りたい人は、どうすればいいですか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q29-1" name="q29">
                        <label for="q29-1">10時半までにショー広場でチケットをかいます。</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q29-2" name="q29">
                        <label for="q29-2">10時半までに動物園の入り口でチケットをかいます。</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q29-3" name="q29">
                        <label for="q29-3">11時半までにショー広場でチケットをかいます。</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-29"></div>
            </div>
        </div>
        <div class="question">
            <p>問３．次のコインランドリーの使い方の表を見て、質問に答えてください。答えは１．２．３からいちばんいいものを一つ選んでください。</p>
            <div class="image-placeholder" style="width: 100%; max-width: 800px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-2.png" alt="Bảng hướng dẫn sử dụng máy giặt" id="image-q30-1">
            </div>
            <div class="image-placeholder" style="width: 100%; max-width: 800px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-3.png" alt="Bảng hướng dẫn sử dụng máy giặt" id="image-q30-2">
            </div>
            <div class="question">
                <p>1）水曜日に、６０分のコースを選んだあと、もう20分乾燥したい人は 全部でいくら はらいますか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q30-1" name="q30">
                        <label for="q30-1">500</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q30-2" name="q30">
                        <label for="q30-2">600</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q30-3" name="q30">
                        <label for="q30-3">1400</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-30"></div>
            </div>
            <div class="question">
                <p>2）このコインランドリーで、できないことは どれですか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q31-1" name="q31">
                        <label for="q31-1">洗濯だけを1時間する</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q31-2" name="q31">
                        <label for="q31-2">カーペットを洗う</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q31-3" name="q31">
                        <label for="q31-3">コース１を2回する</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-31"></div>
            </div>
        </div>
        <div class="question">
            <p>問４．次のページのA「お買い物ポイント・カード」と B の、レシートを見て、質問に答えてください。答えは１．２．３からいちばんいいものを一つ選んでください。</p>
            <p>A</p>
            <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-4.png" alt="Thông tin thẻ điểm mua sắm" id="image-q32-1">
            </div>
            <p>B</p>
            <div class="image-placeholder" style="width: 40%; max-width: 300px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-5.png" alt="Hóa đơn mua sắm" id="image-q32-2">
            </div>
            <div class="question">
                <p>1）B の買い物は、何ポイント（なんてん）もらえますか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q32-1" name="q32">
                        <label for="q32-1">20</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q32-2" name="q32">
                        <label for="q32-2">23</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q32-3" name="q32">
                        <label for="q32-3">50</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-32"></div>
            </div>
            <div class="question">
                <p>2）今日は9月８日。ポイントはいつまで使えますか。</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q33-1" name="q33">
                        <label for="q33-1">これから1週間ぐらい</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q33-2" name="q33">
                        <label for="q33-2">これから１ヵ月ぐらい</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q33-3" name="q33">
                        <label for="q33-3">これから６ヵ月ぐらい</label>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback-33"></div>
            </div>
        </div>
    </div>

    <!-- 聴解 -->
    <div class="question-section">
        <h1>聴解</h1>
        <h2>問題１：もんだい１では、はじめに質問を聞いてください。それから話を聞いて、もんだいようし１から４の中から、一番いいものを一つえらんでください。</h2>
        <div class="vietnamese">Nghe câu hỏi trước, sau đó nghe đoạn hội thoại và chọn đáp án đúng nhất từ 1 đến 4.</div>
        <div class="question">
            <p>問１</p>
            <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-6.png" alt="Hình ảnh câu 34" id="image-q34">
            </div>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-1.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q34-1" name="q34">
                    <label for="q34-1">1</label>
                </div>
                <div class="option">
                    <input type="radio" id="q34-2" name="q34">
                    <label for="q34-2">2</label>
                </div>
                <div class="option">
                    <input type="radio" id="q34-3" name="q34">
                    <label for="q34-3">3</label>
                </div>
                <div class="option">
                    <input type="radio" id="q34-4" name="q34">
                    <label for="q34-4">4</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-34"></div>
        </div>
        <div class="question">
            <p>問２</p>
            <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-7.png" alt="Hình ảnh câu 35" id="image-q35">
            </div>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-2.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q35-1" name="q35">
                    <label for="q35-1">1</label>
                </div>
                <div class="option">
                    <input type="radio" id="q35-2" name="q35">
                    <label for="q35-2">2</label>
                </div>
                <div class="option">
                    <input type="radio" id="q35-3" name="q35">
                    <label for="q35-3">3</label>
                </div>
                <div class="option">
                    <input type="radio" id="q35-4" name="q35">
                    <label for="q35-4">4</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-35"></div>
        </div>
        <div class="question">
            <p>問３</p>
            <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-8.png" alt="Hình ảnh câu 36" id="image-q36">
            </div>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-3.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q36-1" name="q36">
                    <label for="q36-1">1</label>
                </div>
                <div class="option">
                    <input type="radio" id="q36-2" name="q36">
                    <label for="q36-2">2</label>
                </div>
                <div class="option">
                    <input type="radio" id="q36-3" name="q36">
                    <label for="q36-3">3</label>
                </div>
                <div class="option">
                    <input type="radio" id="q36-4" name="q36">
                    <label for="q36-4">4</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-36"></div>
        </div>
        <div class="question">
            <p>問４</p>
            <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-9.png" alt="Hình ảnh câu 37" id="image-q37">
            </div>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-4.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q37-1" name="q37">
                    <label for="q37-1">1</label>
                </div>
                <div class="option">
                    <input type="radio" id="q37-2" name="q37">
                    <label for="q37-2">2</label>
                </div>
                <div class="option">
                    <input type="radio" id="q37-3" name="q37">
                    <label for="q37-3">3</label>
                </div>
                <div class="option">
                    <input type="radio" id="q37-4" name="q37">
                    <label for="q37-4">4</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-37"></div>
        </div>
    </div>

    <!-- 聴解（内容理解 - 店・交通機関） -->
    <div class="question-section">
        <h2>問１．内容理解（店・交通機関）</h2>
        <div class="vietnamese">Nghe đoạn hội thoại và chọn đáp án đúng nhất.</div>
        <div class="question">
            <p>問１</p>
            <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-10.png" alt="Hình ảnh câu 38" id="image-q38">
            </div>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-5.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q38-1" name="q38">
                    <label for="q38-1">1</label>
                </div>
                <div class="option">
                    <input type="radio" id="q38-2" name="q38">
                    <label for="q38-2">2</label>
                </div>
                <div class="option">
                    <input type="radio" id="q38-3" name="q38">
                    <label for="q38-3">3</label>
                </div>
                <div class="option">
                    <input type="radio" id="q38-4" name="q38">
                    <label for="q38-4">4</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-38"></div>
        </div>
        <div class="question">
            <p>問２</p>
            <audio controls>
                                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-6.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q39-1" name="q39">
                    <label for="q39-1">かるい　けいたいでんわ</label>
                </div>
                <div class="option">
                    <input type="radio" id="q39-2" name="q39">
                    <label for="q39-2">サイズが　おおきい　けいたいでんわ</label>
                </div>
                <div class="option">
                    <input type="radio" id="q39-3" name="q39">
                    <label for="q39-3">いろいろ　できる　けいたいでんわ</label>
                </div>
                <div class="option">
                    <input type="radio" id="q39-4" name="q39">
                    <label for="q39-4">しゃしんが　きれいに　とれる　けいたいでんわ</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-39"></div>
        </div>
        <div class="question">
            <p>問３</p>
            <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-11.png" alt="Hình ảnh câu 38" id="image-q38">
            </div>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-7.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q40-1" name="q40">
                    <label for="q40-1">1</label>
                </div>
                <div class="option">
                    <input type="radio" id="q40-2" name="q40">
                    <label for="q40-2">2</label>
                </div>
                <div class="option">
                    <input type="radio" id="q40-3" name="q40">
                    <label for="q40-3">3</label>
                </div>
                <div class="option">
                    <input type="radio" id="q40-4" name="q40">
                    <label for="q40-4">4</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-40"></div>
        </div>
        <div class="question">
            <p>問4</p>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-8.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q41-1" name="q41">
                    <label for="q41-1">10分後</label>
                </div>
                <div class="option">
                    <input type="radio" id="q41-2" name="q41">
                    <label for="q41-2">20分後</label>
                </div>
                <div class="option">
                    <input type="radio" id="q41-3" name="q41">
                    <label for="q41-3">35分後</label>
                </div>
                <div class="option">
                    <input type="radio" id="q41-4" name="q41">
                    <label for="q41-4">50分後</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-41"></div>
        </div>
 <!-- 内容理解(指示・アナウンス) -->
    <div class="question-section">
        <h2>内容理解(指示・アナウンス)</h2>
    <p>問1</p>
     <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-12.png" alt="Hình ảnh câu 38" id="image-q38">
            </div>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-9.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q42-1" name="q42">
                    <label for="q42-1">1</label>
                </div>
                <div class="option">
                    <input type="radio" id="q42-2" name="q42">
                    <label for="q42-2">2</label>
                </div>
                <div class="option">
                    <input type="radio" id="q42-3" name="q42">
                    <label for="q42-3">3</label>
                </div>
                <div class="option">
                    <input type="radio" id="q42-4" name="q42">
                    <label for="q42-4">4</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-42"></div>
        </div>
        <div class="question">
            <p>問2</p>
             <div class="image-placeholder" style="width: 80%; max-width: 600px; height: auto;">
                <img src="https://raw.githubusercontent.com/Hoangthuanitm/image/refs/heads/main/JFT%20basic%201-13.png" alt="Hình ảnh câu 38" id="image-q38">
            </div>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-10.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q43-1" name="q43">
                    <label for="q43-1">1</label>
                </div>
                <div class="option">
                    <input type="radio" id="q43-2" name="q43">
                    <label for="q43-2">2</label>
                </div>
                <div class="option">
                    <input type="radio" id="q43-3" name="q43">
                    <label for="q43-3">3</label>
                </div>
                <div class="option">
                    <input type="radio" id="q43-4" name="q43">
                    <label for="q43-4">4</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-43"></div>
        </div>
        <div class="question">
            <p>問3</p>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-11.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q44-1" name="q44">
                    <label for="q44-1">火曜日と　木曜日</label>
                </div>
                <div class="option">
                    <input type="radio" id="q44-2" name="q44">
                    <label for="q44-2">火曜日と　木曜日と　金曜日</label>
                </div>
                <div class="option">
                    <input type="radio" id="q44-3" name="q44">
                    <label for="q44-3">火曜日と　木曜日と　金曜日と　土曜日</label>
                </div>
                <div class="option">
                    <input type="radio" id="q44-4" name="q44">
                    <label for="q44-4">火曜日と　木曜日と　金曜日と　土曜日と　日曜日</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-44"></div>
        </div>
        <div class="question">
            <p>問4</p>
            <audio controls>
                <source src="https://raw.githubusercontent.com/Hoangthuanitm/Filemp3/main/JFT%20basic%201-12.mp3" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ thẻ audio.
            </audio>
            <div class="options">
                <div class="option">
                    <input type="radio" id="q45-1" name="q45">
                    <label for="q45-1">機械で　探す</label>
                </div>
                <div class="option">
                    <input type="radio" id="q45-2" name="q45">
                    <label for="q45-2">係の　人に　言う</label>
                </div>
                <div class="option">
                    <input type="radio" id="q45-3" name="q45">
                    <label for="q45-3">ほかの　図書館に　行く</label>
                </div>
                <div class="option">
                    <input type="radio" id="q45-4" name="q45">
                    <label for="q45-4">本屋で　買う</label>
                </div>
            </div>
            <div class="answer-feedback" id="feedback-45"></div>
        </div>
        
    <div class="result-section" style="display: none;">
    <h2>採点結果 (Kết quả)</h2>
    <div class="student-details"></div>
    <table class="result-table">
        <thead>
            <tr>
                <th>文字と語彙</th>
                <th>会話・表現</th>
                <th>読解</th>
                <th>聴解</th>
                <th>Tổng</th>
                <th>Tỷ lệ</th>
                <th>Xếp loại</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td id="section1-score"></td>
                <td id="section2-score"></td>
                <td id="section3-score"></td>
                <td id="section4-score"></td>
                <td id="total-score"></td>
                <td id="total-percentage"></td>
                <td id="rank"></td>
            </tr>
        </tbody>
    </table>
</div>
   <button id="submit-test" style="display: none;">テストを提出する (Nộp bài)</button>
<button id="history-test-result" type="button" onclick="window.showPasswordModal()" style="display: none;">Lịch sử kiểm tra</button>
<button id="reset-test" class="reset" style="display: none;">Làm lại</button>
 <div class="password-modal" id="password-modal">
        <div class="password-box">
            <h2>Nhập mật khẩu</h2>
            <input type="password" id="password-input" placeholder="Mật khẩu">
            <div>
                <button onclick="window.checkPassword()">Xác nhận</button>
                <button onclick="window.closePasswordModal()">Hủy</button>
            </div>
            <div id="password-error" class="password-error"></div>
        </div>
    </div>


    <footer>
        <p>© 2025 Tài liệu kiểm tra | Thiết kế bởi Thuận</p>
    </footer>

    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-app.js";
    import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAfy4QMD9_7PyFHpInNdKDRWuW4AYCtLJ4",
        authDomain: "history-e4633.firebaseapp.com",
        projectId: "history-e4633",
        storageBucket: "history-e4633.firebasestorage.app",
        messagingSenderId: "331974436893",
        appId: "1:331974436893:web:10c3c6adf7b66d2b5fbef4",
        measurementId: "G-DC055090BW"
    };

    let db, testHistoryCollection;
    try {
        const app = initializeApp(firebaseConfig);
        db = getFirestore(app);
        testHistoryCollection = collection(db, 'testHistoryJFTde1');
    } catch (error) {
        console.error('Lỗi khởi tạo Firebase:', error);
        document.getElementById('message-info').textContent = 'Không thể kết nối với cơ sở dữ liệu. Vui lòng kiểm tra cấu hình.';
    }

        const answerKey = {
            q1: "わらいます",
            q2: "そうじします",
            q3: "はらいます",
            q4: "はらわ",
            q5: "やわらかい",
            q6: "ゆび",
            q7: "すいどう",
            q8: "みじかい",
            q9: "きまりました",
            q10: "働かなく",
            q11: "弱く",
            q12: "短く",
            q13: "飲んで",
            q14: "あげよう",
            q15: "買ったものではなく",
            q16: "読むように しています",
            q17: "借りたい",
            q18: "なかなか 起きられないのです",
            q19: "しか",
            q20: "に",
            q21: "またこんど",
            q22: "見せてくださいませんか",
            q23: "まいりました",
            q24: "飲まなくてもいいです",
            "q25-1": "歌とおどりを見ること",
            "q25-2": "スピーチのけいけんがなかったけど、うまくいった",
            "q26-1": "人が持たなくてもうごきます。",
            "q26-2": "ロボットそうじきが、階段から落ちなかったこと",
            "q27-1": "きかいが正しく動かないときに直します。",
            "q27-2": "会員の人たちといろいろな話をすること",
            q28: "2500",
            q29: "10時半までにショー広場でチケットをかいます。",
            q30: "700",
            q31: "洗濯だけを1時間する",
            q32: "50",
            q33: "これから1ヵ月ぐらい",
            q34: "1",
            q35: "3",
            q36: "2",
            q37: "3",
            q38: "4",
            q39: "かるい　けいたいでんわ",
            q40: "4",
            q41: "20分後",
            q42: "2",
            q43: "4",
            q44: "火曜日と　木曜日と　金曜日と　土曜日",
            q45: "係の　人に　言う",
        };

        const sectionPoints = {
        section1: { start: 1, end: 12, total: 11, pointsPerQuestion: 2 }, // 文字と語彙
        section2: { start: 13, end: 24, total: 12, pointsPerQuestion: 3 }, // 会話・表現
        section3: { start: 25, end: 33, total: 12, pointsPerQuestion: 5 }, // 読解
        section4: { start: 34, end: 45, total: 12, pointsPerQuestion: 5 }  // 聴解
    };
        function calculateRadioSectionScore(start, end, total) {
            let score = 0;
            for (let i = start; i <= end; i++) {
                const question = `q${i}`;
                const selected = document.querySelector(`input[name="${question}"]:checked`);
                if (selected && selected.nextElementSibling.textContent === answerKey[question]) {
                    score++;
                }
            }
            return score;
        }

        function calculateRadioSectionScore(start, end, total, pointsPerQuestion) {
        let score = 0;
        for (let i = start; i <= end; i++) {
            const question = `q${i}`;
            const selected = document.querySelector(`input[name="${question}"]:checked`);
            if (selected && selected.nextElementSibling.textContent === answerKey[question]) {
                score += pointsPerQuestion;
            }
        }
        return score;
    }

    function calculateMultipleQuestionScore(questionPrefix, subQuestions, pointsPerQuestion) {
        let score = 0;
        subQuestions.forEach(sub => {
            const selected = document.querySelector(`input[name="${questionPrefix}-${sub}"]:checked`);
            if (selected && selected.nextElementSibling.textContent === answerKey[`${questionPrefix}-${sub}`]) {
                score += pointsPerQuestion;
            }
        });
        return score;
    }

    function startTest() {
        const name = document.getElementById('name').value.trim();
        const className = document.getElementById('class').value.trim();
        const date = document.getElementById('date').value;
        const messageInfo = document.getElementById('message-info');

        if (!name || !className || !date) {
            messageInfo.textContent = 'Vui lòng điền đầy đủ thông tin: Tên, Lớp, và Ngày.';
            return;
        }

        messageInfo.textContent = '';
        document.querySelector('.student-info').style.display = 'none';
        document.getElementById('start-test').style.display = 'none';
        document.getElementById('history-test').style.display = 'none';
        document.querySelectorAll('.question-section').forEach(section => section.style.display = 'block');
        document.getElementById('submit-test').style.display = 'inline-block';
        document.getElementById('timer').style.display = 'block';

        startTimer();
    }

    function submitTest() {
        console.log('Bắt đầu submitTest');
        const name = document.getElementById('name').value.trim();
        const className = document.getElementById('class').value.trim();
        const date = document.getElementById('date').value;
        const messageInfo = document.getElementById('message-info');

        if (!name || !className || !date) {
            messageInfo.textContent = 'Vui lòng điền đầy đủ thông tin trước khi nộp bài.';
            return;
        }

        const section1Score = calculateRadioSectionScore(1, 12, 11, sectionPoints.section1.pointsPerQuestion) + 
                             calculateMultipleQuestionScore('q25', ['1', '2'], sectionPoints.section1.pointsPerQuestion);
        const section2Score = calculateRadioSectionScore(13, 24, 12, sectionPoints.section2.pointsPerQuestion);
        const section3Score = calculateMultipleQuestionScore('q26', ['1', '2'], sectionPoints.section3.pointsPerQuestion) + 
                             calculateMultipleQuestionScore('q27', ['1', '2'], sectionPoints.section3.pointsPerQuestion) + 
                             calculateRadioSectionScore(28, 33, 6, sectionPoints.section3.pointsPerQuestion);
        const section4Score = calculateRadioSectionScore(34, 45, 12, sectionPoints.section4.pointsPerQuestion);
        const totalScore = section1Score + section2Score + section3Score + section4Score;
        const percentage = ((totalScore / 178) * 100).toFixed(2);

        // Hiển thị phản hồi cho từng câu hỏi
        for (let i = 1; i <= 45; i++) {
            const question = `q${i}`;
            const feedback = document.getElementById(`feedback-${i}`);
            const selected = document.querySelector(`input[name="${question}"]:checked`);
            if (selected) {
                const isCorrect = selected.nextElementSibling.textContent === answerKey[question];
                feedback.textContent = isCorrect ? 
                    `Đúng` : 
                    `Sai. Đáp án là「${answerKey[question]}」`;
                feedback.className = `answer-feedback ${isCorrect ? '' : 'wrong'}`;
            }
        }

        ['q25-1', 'q25-2', 'q26-1', 'q26-2', 'q27-1', 'q27-2'].forEach(q => {
            const feedback = document.getElementById(`feedback-${q}`);
            const selected = document.querySelector(`input[name="${q}"]:checked`);
            if (selected) {
                const isCorrect = selected.nextElementSibling.textContent === answerKey[q];
                feedback.textContent = isCorrect ? 
                    `Đúng` : 
                    `Sai. Đáp án là「${answerKey[q]}」`;
                feedback.className = `answer-feedback ${isCorrect ? '' : 'wrong'}`;
            }
        });

        const rank = percentage >= 80 ? 'A' : percentage >= 60 ? 'B' : percentage >= 40 ? 'C' : 'F';

        document.getElementById('section1-score').textContent = `${section1Score}/${sectionPoints.section1.total * sectionPoints.section1.pointsPerQuestion}`;
        document.getElementById('section2-score').textContent = `${section2Score}/${sectionPoints.section2.total * sectionPoints.section2.pointsPerQuestion}`;
        document.getElementById('section3-score').textContent = `${section3Score}/${sectionPoints.section3.total * sectionPoints.section3.pointsPerQuestion}`;
        document.getElementById('section4-score').textContent = `${section4Score}/${sectionPoints.section4.total * sectionPoints.section4.pointsPerQuestion}`;
        document.getElementById('total-score').textContent = `${totalScore}/178`;
        document.getElementById('total-percentage').textContent = `${percentage}%`;
        document.getElementById('rank').textContent = `Xếp Loại: ${rank}`;
        document.getElementById('rank').className = rank === 'A' ? 'rank-a' : rank === 'F' ? 'rank-f' : '';

        const studentDetails = document.querySelector('.student-details');
        studentDetails.innerHTML = `
            <p>Tên: ${name}</p>
            <p>Lớp: ${className}</p>
            <p>Ngày: ${date}</p>
        `;

        document.querySelectorAll('.question-section').forEach(section => section.style.display = 'block');
        document.querySelector('.result-section').style.display = 'block';
        document.getElementById('submit-test').style.display = 'none';
        document.getElementById('history-test-result').style.display = 'inline-block';
        document.getElementById('reset-test').style.display = 'inline-block';
        document.getElementById('timer').style.display = 'none';

        if (db && testHistoryCollection) {
            addDoc(testHistoryCollection, {
                name: name,
                class: className,
                date: date,
                results: {
                    '文字と語彙': { score: section1Score, total: sectionPoints.section1.total * sectionPoints.section1.pointsPerQuestion },
                    '会話・表現': { score: section2Score, total: sectionPoints.section2.total * sectionPoints.section2.pointsPerQuestion },
                    '読解': { score: section3Score, total: sectionPoints.section3.total * sectionPoints.section3.pointsPerQuestion },
                    '聴解': { score: section4Score, total: sectionPoints.section4.total * sectionPoints.section4.pointsPerQuestion }
                },
                totalScore: totalScore,
                percentage: parseFloat(percentage),
                rank: rank,
                timestamp: serverTimestamp()
            }).then(() => {
                console.log('Lưu kết quả thành công');
                messageInfo.textContent = 'Kết quả đã được lưu thành công!';
            }).catch(error => {
                console.error('Lỗi khi lưu kết quả:', error);
                messageInfo.textContent = 'Lỗi khi lưu kết quả: ' + error.message;
            });
        } else {
            messageInfo.textContent = 'Không thể lưu kết quả do lỗi khởi tạo Firebase.';
        }
    }

    function resetTest() {
        document.getElementById('name').value = '';
        document.getElementById('class').value = '';
        document.getElementById('date').value = '';
        document.getElementById('message-info').textContent = '';
        document.querySelector('.student-info').style.display = 'block';
        document.getElementById('start-test').style.display = 'inline-block';
        document.getElementById('history-test').style.display = 'inline-block';
        document.querySelectorAll('.question-section').forEach(section => section.style.display = 'none');
        document.querySelector('.result-section').style.display = 'none';
        document.getElementById('submit-test').style.display = 'none';
        document.getElementById('history-test-result').style.display = 'none';
        document.getElementById('reset-test').style.display = 'none';
        document.getElementById('timer').style.display = 'none';
        document.querySelectorAll('input[type="radio"]').forEach(input => input.checked = false);
        document.querySelectorAll('.answer-feedback').forEach(feedback => feedback.textContent = '');
    }

    function showPasswordModal() {
        document.getElementById('password-modal').style.display = 'flex';
        document.getElementById('password-input').focus();
    }

    function closePasswordModal() {
        document.getElementById('password-modal').style.display = 'none';
        document.getElementById('password-input').value = '';
        document.getElementById('password-error').textContent = '';
    }

    function checkPassword() {
        const passwordInput = document.getElementById('password-input').value;
        const passwordError = document.getElementById('password-error');
        if (passwordInput === '112') {
            window.location.href = 'history.html';
        } else {
            passwordError.textContent = 'Mật khẩu không đúng. Vui lòng thử lại.';
            document.getElementById('password-input').value = '';
        }
    }

    document.getElementById('start-test').addEventListener('click', startTest);
    document.getElementById('submit-test').addEventListener('click', submitTest);
    document.getElementById('reset-test').addEventListener('click', resetTest);
    window.showPasswordModal = showPasswordModal;
    window.closePasswordModal = closePasswordModal;
    window.checkPassword = checkPassword;
</script>
